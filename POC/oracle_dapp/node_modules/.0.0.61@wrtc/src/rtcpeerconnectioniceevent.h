#ifndef SRC_RTCPEERCONNECTIONICEEVENT_H_
#define SRC_RTCPEERCONNECTIONICEEVENT_H_

#include "nan.h"
#include "v8.h"

#include "events.h"
#include "rtcicecandidate.h"
#include "webrtc/api/jsep.h"

namespace node_webrtc {

class RTCPeerConnectionIceEvent
: public Nan::ObjectWrap
, public SimpleEvent {
 public:
  static Nan::Persistent<v8::Function> constructor;
  static void Init(v8::Handle<v8::Object> exports);
  static NAN_METHOD(New);

  static NAN_GETTER(GetCandidate);
  static NAN_GETTER(GetUrl);

  static RTCPeerConnectionIceEvent* Create(RTCIceCandidate* candidate);

  virtual void Handle(v8::Local<v8::Object> target);

  explicit RTCPeerConnectionIceEvent(RTCIceCandidate* candidate)
  : SimpleEvent("icecandidate")
  , _candidate(candidate) {}

 private:
  RTCIceCandidate* _candidate;
};

}  // namespace node_webrtc

#endif  // SRC_RTCPEERCONNECTIONICEEVENT_H_
